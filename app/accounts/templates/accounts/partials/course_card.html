<!-- Included 'course_card.html' -->
<div class="card course-card">
    <div class="card-body p-4">
        <!-- Course Header -->
        <div class="d-flex align-items-center mb-4">
            <img src="{{ course_data.course.image.url }}" 
                 alt="{{ course_data.course.name }}"
                 class="rounded-circle me-3" 
                 style="width: 60px; height: 60px; object-fit: cover;">
            <div>
                <h5 class="fw-bold text-primary mb-0">{{ course_data.course.name }}</h5>
                <small class="text-muted">{{ course_data.course.teacher.name }}</small>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="mb-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <span class="text-muted" data-translate="progress">Progress</span>
                <span class="badge badge-primary">{{ course_data.progress|floatformat:1 }}%</span>
            </div>
            <div class="progress" style="height: 8px;">
                <div class="progress-bar bg-primary" 
                     role="progressbar"
                     style="width: {{ course_data.progress|floatformat:1 }}%;"
                     aria-valuenow="{{ course_data.progress|floatformat:1 }}"
                     aria-valuemin="0" 
                     aria-valuemax="100">
                </div>
            </div>
        </div>

        <!-- Appointment Info -->
        {% if course_data.subscription.appointment.avialability %}
        <div class="alert alert-light border mb-4">
            <div class="d-flex align-items-center ">
                <i class="fas fa-calendar-check text-primary me-2"></i>
                <h5 class="fw-bold text-primary " data-translate="scheduled_appointment">Scheduled Appointment</h5>
            </div>
            <div class="ms-4">
                <div class="d-flex justify-content-between">
                    <span data-translate="day">Day</span>
                    <span>{{ course_data.subscription.appointment.avialability.day }}</span>
                </div>
                <div class="d-flex justify-content-between">
                    <span data-translate="time">Time</span>
                    <span>{{ course_data.subscription.appointment.avialability.start_time|time:"H:i" }} - {{ course_data.subscription.appointment.avialability.end_time|time:"H:i" }}</span>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Action Buttons -->
        <div class="d-flex gap-2">
            <a href="{% url 'accounts:session_details' course_data.course.id request.user.username %}"
               class="btn btn-primary flex-grow-1">
                <i class="fas fa-book-open me-2"></i>
                <span data-translate="view_sessions">View Sessions</span>
            </a>
            {% if not course_data.subscription.appointment.avialability %}
            <button type="button"
                    class="btn btn-outline-primary flex-grow-1 schedule-btn"
                    data-subscription-id="{{ course_data.subscription.id }}"
                    data-teacher-id="{{ course_data.course.teacher.id }}"
                    data-mdb-toggle="modal"
                    data-mdb-target="#schedulingModal">
                <i class="fas fa-calendar-plus me-2"></i>
                <span data-translate="schedule_appointment">Schedule Appointment</span>
            </button>
            {% endif %}
        </div>
    </div>
</div>